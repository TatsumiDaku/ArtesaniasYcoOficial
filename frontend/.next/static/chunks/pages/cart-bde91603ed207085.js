(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8086:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return a(7401)}])},7401:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return l}});var t=a(5893),n=a(9250),r=a(1664),i=a.n(r),c=a(7294);function l(){let{cartItems:e,loading:s,updateCartItem:a,removeFromCart:r,clearCart:l,getCartTotal:d,getCartItemsCount:o}=(0,n.j)(),[x,u]=(0,c.useState)(null),m=async(e,s)=>{u(e),await a(e,s),u(null)},h=async e=>{u(e),await r(e),u(null)},g=async()=>{u("clear"),await l(),u(null)};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-orange-600",children:"Carrito de Compras"}),s?(0,t.jsx)("div",{className:"text-center py-12",children:"Cargando carrito..."}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:["Tu carrito est\xe1 vac\xedo.",(0,t.jsx)("br",{}),(0,t.jsx)(i(),{href:"/products",className:"text-orange-600 hover:underline",children:"Ver productos"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-4 divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center py-4 gap-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:e.images&&e.images.length>0?(0,t.jsx)("img",{src:"".concat("https://artesaniasyco.com/api").concat(e.images[0]),alt:e.name,className:"object-cover w-full h-full"}):(0,t.jsx)("span",{className:"text-gray-400",children:"Sin imagen"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"font-semibold text-lg text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-gray-600 text-sm",children:["$",e.price," x ",e.quantity]}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["Stock: ",e.stock]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:1,max:e.stock,value:e.quantity,onChange:s=>m(e.product_id,Number(s.target.value)),className:"w-16 border border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:x===e.product_id}),(0,t.jsx)("button",{onClick:()=>h(e.product_id),className:"text-red-600 hover:underline text-sm",disabled:x===e.product_id,children:"Eliminar"})]})]},e.product_id))}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,t.jsx)("button",{onClick:g,className:"text-gray-500 hover:underline text-sm",disabled:"clear"===x,children:"Vaciar carrito"}),(0,t.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["Total (",o()," productos): ",(0,t.jsxs)("span",{className:"text-orange-600",children:["$",d().toFixed(2)]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{className:"bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-700 transition-colors",disabled:!0,children:"Finalizar compra (pr\xf3ximamente)"})})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8086)}),_N_E=e.O()}]);