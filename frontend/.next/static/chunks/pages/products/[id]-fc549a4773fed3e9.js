(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{8693:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return s(4583)}])},4583:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(5893),n=s(1163),c=s(7294),r=s(8987),l=s(9250);function i(){let e=(0,n.useRouter)(),{id:t}=e.query,[s,i]=(0,c.useState)(null),[o,d]=(0,c.useState)(!0),[x,m]=(0,c.useState)(1),[u,g]=(0,c.useState)(""),{addToCart:f}=(0,l.j)();(0,c.useEffect)(()=>{t&&h()},[t]);let h=async()=>{try{d(!0);let e=await r.Z.get("/api/products/".concat(t));i(e.data)}catch(e){i(null)}finally{d(!1)}},p=async()=>{g("");let e=await f(s.id,x);g(e.message)};return o?(0,a.jsx)("div",{className:"text-center py-12",children:"Cargando producto..."}):s?(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,a.jsx)("div",{className:"md:w-1/2",children:(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg overflow-hidden h-80 flex items-center justify-center",children:s.images&&s.images.length>0?(0,a.jsx)("img",{src:"".concat("https://artesaniasyco.com/api").concat(s.images[0]),alt:s.name,className:"object-cover h-full w-full"}):(0,a.jsx)("span",{className:"text-gray-400",children:"Sin imagen"})})}),(0,a.jsxs)("div",{className:"md:w-1/2 flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.name}),(0,a.jsxs)("div",{className:"text-orange-600 font-bold text-xl mb-2",children:["$",s.price]}),(0,a.jsx)("div",{className:"text-gray-600 mb-4",children:s.description}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:["Stock: ",s.stock]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:["Categor\xeda: ",s.category_name]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:["Artesano: ",s.artisan_name]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",min:1,max:s.stock,value:x,onChange:e=>m(Number(e.target.value)),className:"w-20 border border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,a.jsx)("button",{onClick:p,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors font-semibold",disabled:s.stock<1,children:"Agregar al carrito"})]}),u&&(0,a.jsx)("div",{className:"mt-2 text-sm text-green-600",children:u})]})]})}):(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Producto no encontrado."})}},1163:function(e,t,s){e.exports=s(6885)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8693)}),_N_E=e.O()}]);