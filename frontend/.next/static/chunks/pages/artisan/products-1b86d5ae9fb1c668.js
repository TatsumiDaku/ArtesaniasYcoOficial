(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{5319:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/artisan/products",function(){return s(1637)}])},1637:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(5893),c=s(7294),n=s(8987),l=s(8506),r=s(1664),d=s.n(r);function x(){let{isAuthenticated:e,isArtisan:t,user:s}=(0,l.a)(),[r,x]=(0,c.useState)([]),[i,o]=(0,c.useState)(!0);(0,c.useEffect)(()=>{e&&t&&p()},[e,t]);let p=async()=>{try{o(!0);let e=await n.Z.get("/api/products?artisan=".concat(s.id));x(e.data.products)}catch(e){x([])}finally{o(!1)}};return e&&t?(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-orange-600",children:"Mis Productos"}),i?(0,a.jsx)("div",{className:"text-center py-12",children:"Cargando productos..."}):0===r.length?(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No tienes productos registrados."}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full bg-white rounded-lg shadow",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"ID"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"Nombre"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"Categor\xeda"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"Precio"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"Stock"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"Estado"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"Acciones"})]})}),(0,a.jsx)("tbody",{children:r.map(e=>(0,a.jsxs)("tr",{className:"border-t",children:[(0,a.jsx)("td",{className:"px-4 py-2",children:e.id}),(0,a.jsx)("td",{className:"px-4 py-2",children:(0,a.jsx)(d(),{href:"/products/".concat(e.id),className:"text-orange-600 hover:underline",children:e.name})}),(0,a.jsx)("td",{className:"px-4 py-2",children:e.category_name}),(0,a.jsxs)("td",{className:"px-4 py-2",children:["$",e.price]}),(0,a.jsx)("td",{className:"px-4 py-2",children:e.stock}),(0,a.jsx)("td",{className:"px-4 py-2",children:(0,a.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800",children:e.status})}),(0,a.jsx)("td",{className:"px-4 py-2",children:(0,a.jsx)("button",{className:"text-red-600 hover:underline text-sm",disabled:!0,children:"Eliminar"})})]},e.id))})]})})]}):(0,a.jsx)("div",{className:"text-center py-12",children:"Acceso denegado. Solo artesanos pueden ver esta p\xe1gina."})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5319)}),_N_E=e.O()}]);